{% extends "base.html" %}

{% block title %}Profile - BrainDeck{% endblock %}
{% block breadcrumb %}Profile{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <!-- Profile Header -->
    <div class="bg-surface-card rounded-2xl border border-border-dark p-8 mb-6">
        <div class="flex items-center gap-6">
            <div
                class="w-24 h-24 rounded-full bg-primary/20 flex items-center justify-center border-4 border-primary/30">
                {% if current_user.avatar_url %}
                <img src="{{ current_user.avatar_url }}" alt="Avatar" class="w-full h-full rounded-full object-cover">
                {% else %}
                <span class="text-4xl font-bold text-primary">{{ current_user.username[0]|upper }}</span>
                {% endif %}
            </div>
            <div class="flex-1">
                <h1 class="text-2xl font-bold text-white mb-1">{{ current_user.full_name or current_user.username }}
                </h1>
                <p class="text-text-secondary">@{{ current_user.username }}</p>
                <p class="text-sm text-text-secondary mt-2">{{ current_user.email }}</p>
            </div>
        </div>
    </div>

    <!-- Stats -->
    <div class="grid grid-cols-3 gap-4 mb-6">
        <div class="bg-surface-card rounded-xl border border-border-dark p-5 text-center">
            <p class="text-3xl font-bold text-primary mb-1">{{ current_user.decks.count() }}</p>
            <p class="text-sm text-text-secondary">Decks</p>
        </div>
        <div class="bg-surface-card rounded-xl border border-border-dark p-5 text-center">
            <p class="text-3xl font-bold text-white mb-1">--</p>
            <p class="text-sm text-text-secondary">Cards Mastered</p>
        </div>
        <div class="bg-surface-card rounded-xl border border-border-dark p-5 text-center">
            <p class="text-3xl font-bold text-white mb-1">--</p>
            <p class="text-sm text-text-secondary">Day Streak</p>
        </div>
    </div>

    <!-- Account Info -->
    <div class="bg-surface-card rounded-2xl border border-border-dark p-6">
        <h2 class="text-lg font-bold text-white mb-4">Account Information</h2>
        <div class="space-y-4">
            <div class="flex justify-between items-center py-3 border-b border-border-dark">
                <span class="text-text-secondary">Member since</span>
                <span class="text-white">{{ (current_user.created_at|to_ist).strftime('%B %d, %Y') if
                    current_user.created_at else '--' }}</span>
            </div>
            <div class="flex justify-between items-center py-3 border-b border-border-dark">
                <span class="text-text-secondary">Last login</span>
                <span class="text-white">{{ (current_user.last_login|to_ist).strftime('%b %d, %Y at %I:%M %p') if
                    current_user.last_login else 'Just now' }}</span>
            </div>
        </div>

        <div class="mt-6 pt-6 border-t border-border-dark">
            <a href="{{ url_for('auth.logout') }}"
                class="flex items-center justify-center gap-2 btn-secondary py-3 rounded-lg font-medium text-red-400 hover:bg-red-500/10 border-red-500/30">
                <span class="material-symbols-outlined">logout</span>
                Sign Out
            </a>
        </div>
    </div>
</div>
{% endblock %}